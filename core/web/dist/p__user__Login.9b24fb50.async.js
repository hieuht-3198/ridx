(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{99165:function(T,m,e){"use strict";e.d(m,{Z:function(){return h}});var d=e(28991),o=e(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},t=v,p=e(27029),g=function(l,P){return o.createElement(p.Z,(0,d.Z)((0,d.Z)({},l),{},{ref:P,icon:t}))};g.displayName="CopyOutlined";var h=o.forwardRef(g)},57254:function(T,m,e){"use strict";e.d(m,{Z:function(){return h}});var d=e(28991),o=e(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},t=v,p=e(27029),g=function(l,P){return o.createElement(p.Z,(0,d.Z)((0,d.Z)({},l),{},{ref:P,icon:t}))};g.displayName="DownOutlined";var h=o.forwardRef(g)},49101:function(T,m,e){"use strict";e.d(m,{Z:function(){return h}});var d=e(28991),o=e(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},t=v,p=e(27029),g=function(l,P){return o.createElement(p.Z,(0,d.Z)((0,d.Z)({},l),{},{ref:P,icon:t}))};g.displayName="PlusOutlined";var h=o.forwardRef(g)},5966:function(T,m,e){"use strict";var d=e(22122),o=e(81253),v=e(67294),t=e(39178),p=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],h="text",D=function(f){var E=f.fieldProps,j=f.proFieldProps,i=(0,o.Z)(f,p);return v.createElement(t.Z,(0,d.Z)({mode:"edit",valueType:h,fieldProps:E,filedConfig:{valueType:h},proFieldProps:j},i))},l=function(f){var E=f.fieldProps,j=f.proFieldProps,i=(0,o.Z)(f,g);return v.createElement(t.Z,(0,d.Z)({mode:"edit",valueType:"password",fieldProps:E,proFieldProps:j,filedConfig:{valueType:h}},i))},P=D;P.Password=l,P.displayName="ProFormComponent",m.Z=P},34687:function(T){T.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",icon:"icon___rzGKO"}},32384:function(){},78520:function(T,m,e){"use strict";e.r(m),e.d(m,{default:function(){return ye}});var d=e(34792),o=e(48086),v=e(11849),t=e(3182),p=e(2824),g=e(17462),h=e(76772),D=e(94043),l=e.n(D),P=e(92002),U=e(64172);function f(n,s){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime.mark(function n(s,a){return _regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",request("/api/login/captcha",_objectSpread({method:"GET",params:_objectSpread({},s)},a||{})));case 1:case"end":return O.stop()}},n)})),E.apply(this,arguments)}var j=e(32611),i=e(28991),r=e(67294),G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},N=G,X=e(27029),J=function(s,a){return r.createElement(X.Z,(0,i.Z)((0,i.Z)({},s),{},{ref:a,icon:N}))};J.displayName="UserOutlined";var re=r.forwardRef(J),ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},ae=ne,Q=function(s,a){return r.createElement(X.Z,(0,i.Z)((0,i.Z)({},s),{},{ref:a,icon:ae}))};Q.displayName="LockOutlined";var oe=r.forwardRef(Q),A=e(22122),Ce=e(84305),se=e(75901),k=e(81253),le=e(31490),ie=e(5894),Ee=e(32384),ue=["logo","message","contentStyle","title","subTitle","actions","children"];function ce(n){var s,a=n.logo,I=n.message,O=n.contentStyle,S=n.title,F=n.subTitle,B=n.actions,w=n.children,Z=(0,k.Z)(n,ue),Y=(0,le.YB)(),b=Z.submitter===!1?!1:(0,i.Z)((0,i.Z)({searchConfig:{submitText:Y.getMessage("loginForm.submitText","\u767B\u5F55")}},Z.submitter),{},{submitButtonProps:(0,i.Z)({size:"large",style:{width:"100%"}},(s=Z.submitter)===null||s===void 0?void 0:s.submitButtonProps),render:function(R,z){var H,c=z.pop();if(typeof(Z==null||(H=Z.submitter)===null||H===void 0?void 0:H.render)=="function"){var K,$;return Z==null||(K=Z.submitter)===null||K===void 0||($=K.render)===null||$===void 0?void 0:$.call(K,R,z)}return c}}),M=(0,r.useContext)(se.ZP.ConfigContext),L=M.getPrefixCls("pro-form-login"),u=function(R){return"".concat(L,"-").concat(R)},y=(0,r.useMemo)(function(){return a?typeof a=="string"?r.createElement("img",{src:a}):a:null},[a]);return r.createElement("div",{className:u("container")},r.createElement("div",{className:u("top")},S||y?r.createElement("div",{className:u("header")},y?r.createElement("span",{className:u("logo")},y):null,S?r.createElement("span",{className:u("title")},S):null):null,F?r.createElement("div",{className:u("desc")},F):null),r.createElement("div",{className:u("main"),style:(0,i.Z)({width:328},O)},r.createElement(ie.A,(0,A.Z)({isKeyPressSubmit:!0},Z,{submitter:b}),I,w),B?r.createElement("div",{className:u("other")},B):null))}var Oe=e(63185),de=e(9676),q=e(22270),ve=e(64893),_=e(39178),me=["options","fieldProps","proFieldProps","valueEnum"],fe=r.forwardRef(function(n,s){var a=n.options,I=n.fieldProps,O=n.proFieldProps,S=n.valueEnum,F=(0,k.Z)(n,me);return r.createElement(_.Z,(0,A.Z)({ref:s,valueType:"checkbox",mode:"edit",valueEnum:(0,q.h)(S,void 0),fieldProps:(0,i.Z)({options:a},I),lightProps:(0,i.Z)({labelFormatter:function(){return r.createElement(_.Z,(0,A.Z)({ref:s,valueType:"checkbox",mode:"read",valueEnum:(0,q.h)(S,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({options:a},I),proFieldProps:O},F))}},F.lightProps),proFieldProps:O},F))}),pe=r.forwardRef(function(n,s){var a=n.fieldProps,I=n.children;return r.createElement(de.Z,(0,A.Z)({ref:s},a),I)}),ge=(0,ve.G)(pe,{valuePropName:"checked"}),ee=ge;ee.Group=fe;var he=ee,te=e(5966),V=e(43581),Pe=e(34687),W=e.n(Pe),x=e(85893),xe=function(s){var a=s.content;return(0,x.jsx)(h.Z,{style:{marginBottom:24},message:a,type:"error",showIcon:!0})},Ze=function(){var s=(0,r.useState)({}),a=(0,p.Z)(s,2),I=a[0],O=a[1],S=(0,V.tT)("@@initialState"),F=S.initialState,B=S.setInitialState,w=function(){var b=(0,t.Z)(l().mark(function M(){var L,u;return l().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,F==null||(L=F.fetchUserInfo)===null||L===void 0?void 0:L.call(F);case 2:if(u=C.sent,!u){C.next=6;break}return C.next=6,B(function(R){return(0,v.Z)((0,v.Z)({},R),{},{currentUser:u})});case 6:case"end":return C.stop()}},M)}));return function(){return b.apply(this,arguments)}}(),Z=function(){var b=(0,t.Z)(l().mark(function M(L){var u,y,C,R,z;return l().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,U.x4)((0,v.Z)({},L));case 3:if(u=c.sent,!u.status){c.next=16;break}return localStorage.setItem(j.vG,u.token.access_token),y="Login successful!",o.default.success(y),c.next=10,w();case 10:if(V.m8){c.next=12;break}return c.abrupt("return");case 12:return C=V.m8.location.query,R=C.redirect,V.m8.push(R||"/"),c.abrupt("return");case 16:O(u),c.next=24;break;case 19:c.prev=19,c.t0=c.catch(0),console.log("Error",c.t0),z="Login failed, please try again!",o.default.error(z);case 24:case"end":return c.stop()}},M,null,[[0,19]])}));return function(L){return b.apply(this,arguments)}}(),Y=I.status;return(0,x.jsxs)("div",{className:W().container,children:[(0,x.jsx)("div",{className:W().content,children:(0,x.jsxs)(ce,{logo:(0,x.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"RiDX",subTitle:"Managing Risk in Digital Transformation",initialValues:{autoLogin:!0},onFinish:function(){var b=(0,t.Z)(l().mark(function M(L){return l().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Z(L);case 2:case"end":return y.stop()}},M)}));return function(M){return b.apply(this,arguments)}}(),submitter:{searchConfig:{submitText:"Login"},submitButtonProps:{size:"large",style:{width:"100%"}}},children:[Y==="error"&&(0,x.jsx)(xe,{content:"Incorrect username/password"}),(0,x.jsx)(te.Z,{name:"email",fieldProps:{size:"large",prefix:(0,x.jsx)(re,{className:W().prefixIcon})},placeholder:"Email",rules:[{required:!0,message:"Please input your email!"}]}),(0,x.jsx)(te.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,x.jsx)(oe,{className:W().prefixIcon})},placeholder:"Password",rules:[{required:!0,message:"Please input your password!"}]}),(0,x.jsx)("div",{style:{marginBottom:24},children:(0,x.jsx)(he,{noStyle:!0,name:"autoLogin",children:"Remember me"})})]})}),(0,x.jsx)(P.Z,{})]})},ye=Ze},65223:function(T,m,e){"use strict";e.d(m,{q3:function(){return p},qI:function(){return g},RV:function(){return h},Rk:function(){return D},aM:function(){return l},Ux:function(){return P}});var d=e(22122),o=e(48526),v=e(98423),t=e(67294),p=t.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),g=t.createContext(null),h=function(f){var E=(0,v.Z)(f,["prefixCls"]);return t.createElement(o.RV,(0,d.Z)({},E))},D=t.createContext({prefixCls:""}),l=t.createContext({}),P=function(f){var E=f.children,j=f.status,i=f.override,r=(0,t.useContext)(l),G=(0,t.useMemo)(function(){var N=(0,d.Z)({},r);return i&&delete N.isFormItemInput,j&&(delete N.status,delete N.hasFeedback,delete N.feedbackIcon),N},[j,i,r]);return t.createElement(l.Provider,{value:G},E)}},97435:function(T,m){"use strict";function e(d,o){for(var v=Object.assign({},d),t=0;t<o.length;t+=1){var p=o[t];delete v[p]}return v}m.Z=e}}]);
