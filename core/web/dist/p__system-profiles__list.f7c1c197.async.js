(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[359],{59465:function(K,M,e){"use strict";e.d(M,{Z:function(){return u}});var m=e(28991),_=e(67294),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},i=C,p=e(27029),o=function(O,y){return _.createElement(p.Z,(0,m.Z)((0,m.Z)({},O),{},{ref:y,icon:i}))};o.displayName="MinusCircleOutlined";var u=_.forwardRef(o)},5966:function(K,M,e){"use strict";var m=e(22122),_=e(81253),C=e(67294),i=e(39178),p=["fieldProps","proFieldProps"],o=["fieldProps","proFieldProps"],u="text",T=function(n){var r=n.fieldProps,E=n.proFieldProps,I=(0,_.Z)(n,p);return C.createElement(i.Z,(0,m.Z)({mode:"edit",valueType:u,fieldProps:r,filedConfig:{valueType:u},proFieldProps:E},I))},O=function(n){var r=n.fieldProps,E=n.proFieldProps,I=(0,_.Z)(n,o);return C.createElement(i.Z,(0,m.Z)({mode:"edit",valueType:"password",fieldProps:r,proFieldProps:E,filedConfig:{valueType:u}},I))},y=T;y.Password=O,y.displayName="ProFormComponent",M.Z=y},90672:function(K,M,e){"use strict";var m=e(22122),_=e(81253),C=e(67294),i=e(39178),p=["fieldProps","proFieldProps"],o=function(T,O){var y=T.fieldProps,D=T.proFieldProps,n=(0,_.Z)(T,p);return C.createElement(i.Z,(0,m.Z)({ref:O,mode:"edit",valueType:"textarea",fieldProps:y,proFieldProps:D},n))};M.Z=C.forwardRef(o)},25185:function(K,M,e){"use strict";e.d(M,{UN:function(){return T},lu:function(){return O},G1:function(){return y}});var m=e(22385),_=e(61580),C=e(95357),i=e(8212),p=e(73171),o=e(85893),u=function(n){var r=n.icon,E=n.title,I=n.onClick;return(0,o.jsx)("a",{onClick:I,children:(0,o.jsx)(_.Z,{title:E,children:r})})},T=function(n){var r=n.title,E=n.onClick;return(0,o.jsx)(u,{icon:(0,o.jsx)(C.Z,{}),title:r||"Detail",onClick:E})},O=function(n){var r=n.title,E=n.onClick;return(0,o.jsx)(u,{icon:(0,o.jsx)(i.Z,{}),title:r||"Edit",onClick:E})},y=function(n){var r=n.title,E=n.onClick;return(0,o.jsx)(u,{icon:(0,o.jsx)(p.Z,{}),title:r||"Delete",onClick:E})};M.ZP=u},65819:function(K,M,e){"use strict";e.r(M);var m=e(9715),_=e(17681),C=e(49111),i=e(19650),p=e(93224),o=e(13062),u=e(71230),T=e(89032),O=e(15746),y=e(57663),D=e(71577),n=e(34792),r=e(48086),E=e(3182),I=e(71194),f=e(50146),d=e(11849),v=e(2824),B=e(94043),s=e.n(B),A=e(49101),z=e(59465),H=e(37476),x=e(5966),Y=e(90672),J=e(51885),Q=e(27596),U=e(67294),b=e(70345),X=e(43581),S=e(25185),t=e(85893),q=function(){var ee=(0,U.useState)(!1),N=(0,v.Z)(ee,2),te=N[0],F=N[1],ne=(0,U.useState)(!0),w=(0,v.Z)(ne,2),j=w[0],$=w[1],re=(0,U.useState)({}),V=(0,v.Z)(re,2),k=V[0],G=V[1],L=(0,U.useRef)(),se=function(h){F(h),h||($(!0),G({}))},ae=[{title:"Name",dataIndex:"name",width:"20%"},{title:"Description",dataIndex:"description",hideInForm:!0,hideInSearch:!0,width:"40%"},{title:"Other",dataIndex:"custom_fields",key:"custom_fields",hideInForm:!0,hideInSearch:!0,width:"30%",render:function(h,P){return(0,t.jsx)("ul",{children:Object.keys(P.custom_fields).map(function(c){return(0,t.jsx)("li",{children:"".concat(c,": ").concat(P.custom_fields[c])},c)})})}},{title:"Action",dataIndex:"option",valueType:"option",width:"10%",render:function(h,P){return[(0,t.jsx)(S.lu,{onClick:function(){F(!0),$(!1);var Z=Object.keys(P.custom_fields).map(function(a){return{attribute:a,value:P.custom_fields[a]}});G((0,d.Z)((0,d.Z)({},P),{},{custom_fields:Z}))}},"edit"),(0,t.jsx)(S.UN,{onClick:function(){X.m8.push("/system-profiles/".concat(P.id))}},"detail"),(0,t.jsx)(S.G1,{onClick:function(){f.Z.confirm({title:"Delete system profile",content:"Are you sure\uFF1F",okText:"Ok",cancelText:"Cancel",onOk:function(){var Z=(0,E.Z)(s().mark(function g(){return s().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,ie(P.id);case 2:return R.abrupt("return",R.sent);case 3:case"end":return R.stop()}},g)}));function a(){return Z.apply(this,arguments)}return a}()})}},"delete")]}}],ie=function(){var W=(0,E.Z)(s().mark(function h(P){var c;return s().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,b.Me)(P);case 3:c=a.sent,c&&(r.default.success("Delete successful!"),L.current&&L.current.reload()),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),r.default.error("Delete failed!");case 10:case"end":return a.stop()}},h,null,[[0,7]])}));return function(P){return W.apply(this,arguments)}}(),le=function(){var W=(0,E.Z)(s().mark(function h(P){var c,Z,a;return s().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(c=(0,d.Z)({},P),c.custom_fields&&(Z={},c.custom_fields.map(function(R){Z[R.attribute]=R.value}),c.custom_fields=Z),!j){l.next=8;break}return l.next=5,(0,b.Kq)(c);case 5:l.t0=l.sent,l.next=11;break;case 8:return l.next=10,(0,b.aI)(k.id,c);case 10:l.t0=l.sent;case 11:if(a=l.t0,!a){l.next=18;break}return r.default.success("".concat(j?"Add":"Edit"," system profile successful!")),L.current&&L.current.reload(),$(!0),G({}),l.abrupt("return",!0);case 18:return r.default.error("".concat(j?"Add":"Edit"," system profile failed!")),l.abrupt("return",!1);case 20:case"end":return l.stop()}},h)}));return function(P){return W.apply(this,arguments)}}();return(0,t.jsxs)(J.ZP,{children:[(0,t.jsx)(Q.ZP,{actionRef:L,rowKey:"id",search:{labelWidth:120},request:b.aT,columns:ae,pagination:{pageSize:10},toolbar:{settings:[]},toolBarRender:function(){return[(0,t.jsxs)(D.Z,{type:"primary",onClick:function(){F(!0)},children:[(0,t.jsx)(A.Z,{})," Add"]},"primary")]},bordered:!0}),(0,t.jsx)(H.Y,{title:"".concat(j?"Add":"Edit"," system profile"),width:"800px",visible:te,onVisibleChange:se,modalProps:{destroyOnClose:!0},onFinish:le,initialValues:k,children:(0,t.jsxs)(u.Z,{children:[(0,t.jsxs)(O.Z,{span:9,children:[(0,t.jsx)(x.Z,{label:"Name",rules:[{required:!0}],name:"name"}),(0,t.jsx)(Y.Z,{label:"Desciption",rules:[{required:!0}],name:"description"})]}),(0,t.jsxs)(O.Z,{span:14,offset:1,children:[(0,t.jsx)(u.Z,{style:{marginBottom:9},children:"Custom fields"}),(0,t.jsx)(_.Z.List,{name:"custom_fields",children:function(h,P){var c=P.add,Z=P.remove;return(0,t.jsxs)(t.Fragment,{children:[h.map(function(a){var g=a.key,l=a.name,R=(0,p.Z)(a,["key","name"]);return(0,t.jsxs)(i.Z,{style:{display:"flex",marginBottom:8},align:"baseline",children:[(0,t.jsx)(x.Z,{rules:[{required:!0}],name:[l,"attribute"]}),(0,t.jsx)(x.Z,{rules:[{required:!0}],name:[l,"value"]}),(0,t.jsx)(z.Z,{onClick:function(){return Z(l)}})]},g)}),(0,t.jsx)(_.Z.Item,{children:(0,t.jsx)(D.Z,{type:"dashed",onClick:function(){return c()},block:!0,icon:(0,t.jsx)(A.Z,{}),children:"Add field"})})]})}})]})]})})]})};M.default=q},70345:function(K,M,e){"use strict";e.d(M,{aT:function(){return o},Cv:function(){return T},Kq:function(){return y},aI:function(){return n},Me:function(){return E}});var m=e(11849),_=e(3182),C=e(94043),i=e.n(C),p=e(64172);function o(f,d){return u.apply(this,arguments)}function u(){return u=(0,_.Z)(i().mark(function f(d,v){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.ZP)("/api/system_profiles",(0,m.Z)({method:"GET",params:(0,m.Z)({},d)},v||{})));case 1:case"end":return s.stop()}},f)})),u.apply(this,arguments)}function T(f,d,v){return O.apply(this,arguments)}function O(){return O=(0,_.Z)(i().mark(function f(d,v,B){return i().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,p.ZP)("/api/system_profiles/".concat(d),(0,m.Z)({method:"GET",params:(0,m.Z)({},v)},B||{})));case 1:case"end":return A.stop()}},f)})),O.apply(this,arguments)}function y(f,d){return D.apply(this,arguments)}function D(){return D=(0,_.Z)(i().mark(function f(d,v){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.ZP)("/api/system_profiles",(0,m.Z)({data:d,method:"POST"},v||{})));case 1:case"end":return s.stop()}},f)})),D.apply(this,arguments)}function n(f,d,v){return r.apply(this,arguments)}function r(){return r=(0,_.Z)(i().mark(function f(d,v,B){return i().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,p.ZP)("/api/system_profiles/".concat(d),(0,m.Z)({data:v,method:"PUT"},B||{})));case 1:case"end":return A.stop()}},f)})),r.apply(this,arguments)}function E(f,d){return I.apply(this,arguments)}function I(){return I=(0,_.Z)(i().mark(function f(d,v){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.ZP)("/api/system_profiles/".concat(d),(0,m.Z)({method:"DELETE"},v||{})));case 1:case"end":return s.stop()}},f)})),I.apply(this,arguments)}}}]);
